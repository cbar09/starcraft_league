<%= simple_form_for @match, :html => { :class => 'form-horizontal' } do |f| %>
  	<%= f.association :players, :as => :check_boxes, :label_method => lambda { |player| "#{player.handle}"}, :hint => '*Choose 2 Players' %>
	<%= f.input :week, :as =>  :select, :collection => (1..10), :include_blank => 'Choose a week...' %>
	
	<!-- Games -->
	<% count = 1 %>
	<%= f.simple_fields_for :games do |builder| %>
		<%= render "game", :game_number => count, :f => builder %>
		<% count = count + 1 %>
	<% end %>
	
	<%= f.button :submit, :class => 'btn-primary' %>
<% end %>

<script type="text/javascript">
	$(document).on("click", ".winner", function(e){
		if($(this).is(":checked")){
			$(this).closest("fieldset").find(".winner").not($(this)).attr("disabled", "disabled");
		}
		else{
			$(this).closest("fieldset").find(".winner").removeAttr("disabled");
		}
	});
	$(document).on("change", ".race", function(e){
		checked = $(this).find("option:selected");
		checked.closest("fieldset").find("option[value='" + checked.val() + "']").not(checked).attr("disabled", "disabled")
	});
</script>